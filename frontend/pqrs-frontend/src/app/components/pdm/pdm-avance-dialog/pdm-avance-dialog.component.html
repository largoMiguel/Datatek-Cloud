<div class="modal-content border-0 shadow-lg">
    <div class="modal-content border-0 shadow-lg">

        <!-- HEADER --> <!-- HEADER -->

        <div class="modal-header border-bottom-0 bg-white pb-0">
            <div class="modal-header border-bottom-0 bg-white pb-0">

                <div class="w-100">
                    <div class="w-100">

                        <h4 class="mb-2">
                            <h4 class="mb-2">

                                <i class="fas fa-clipboard-check me-2 text-primary"></i> <i
                                    class="fas fa-clipboard-check me-2 text-primary"></i>

                                Registrar Cumplimiento de Actividad Registrar Cumplimiento de Actividad

                            </h4>
                        </h4>

                        <div class="d-flex align-items-center text-muted small">
                            <div class="d-flex align-items-center text-muted small">

                                <i class="fas fa-tag me-2"></i> <i class="fas fa-tag me-2"></i>

                                <span class="me-1">Producto:</span> <span class="me-1">Producto:</span>

                                <strong class="text-primary">{{ data.codigo }}</strong> <strong class="text-primary">{{
                                    data.codigo }}</strong>

                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>



        <div class="modal-body" style="max-height: 70vh; overflow-y: auto;"> <!-- Sección 1: Selección de Actividad -->

            <!-- Selección de Actividad -->
            <div class="mb-4">

                <div class="mb-4"> <label class="form-label fw-bold">

                        <label class="form-label fw-bold"> <i class="fas fa-list-check me-2 text-primary"></i>Actividad
                            a Reportar

                            <i class="fas fa-list-check me-2 text-primary"></i>Actividad a Reportar </label>

                    </label> <select class="form-select" id="actividad" [(ngModel)]="actividadId"
                        (change)="onActividadChange()">

                        <select class="form-select" id="actividad" [(ngModel)]="actividadId"
                            (change)="onActividadChange()">
                            <option [ngValue]="null" disabled>-- Seleccione una actividad --</option>

                            <option [ngValue]="null" disabled>-- Seleccione una actividad --</option>
                            <option *ngFor="let act of actividades" [ngValue]="act.id">

                            <option *ngFor="let act of actividades" [ngValue]="act.id"> {{ act.nombre }} (Año {{
                                act.anio }})

                                {{ act.nombre }} (Año {{ act.anio }}) </option>

                            </option>
                        </select>

                    </select> </div>

            </div>

            <!-- Info de la Actividad Seleccionada -->

            <!-- Info de la Actividad Seleccionada -->
            <div class="card border-0 shadow-sm mb-4" *ngIf="actividadSeleccionada">

                <div class="card border-0 shadow-sm mb-4" *ngIf="actividadSeleccionada">
                    <div class="card-body">

                        <div class="card-body">
                            <h6 class="mb-3">

                                <h6 class="mb-3"> <i class="fas fa-bullseye me-2 text-primary"></i>

                                    <i class="fas fa-bullseye me-2 text-primary"></i> {{ actividadSeleccionada.nombre }}

                                    {{ actividadSeleccionada.nombre }}
                                </h6>

                            </h6>

                            <div class="row g-3 mb-3">

                                <div class="row g-3 mb-3">
                                    <div class="col-md-4">

                                        <div class="col-md-4">
                                            <div class="d-flex align-items-center">

                                                <div class="d-flex align-items-center">
                                                    <div class="bg-primary bg-opacity-10 rounded-circle p-2 me-3" <div
                                                        class="bg-primary bg-opacity-10 rounded-circle p-2 me-3"
                                                        style="width: 45px; height: 45px; display: flex; align-items: center; justify-content: center;">

                                                        style="width: 45px; height: 45px; display: flex; align-items:
                                                        center; justify-content: center;"> <i
                                                            class="fas fa-calendar-alt text-primary"></i>

                                                        <i class="fas fa-calendar-alt text-primary"></i>
                                                    </div>

                                                </div>
                                                <div>

                                                    <div> <small class="text-muted d-block">Año</small>

                                                        <small class="text-muted d-block">Año</small> <strong
                                                            class="h6 mb-0">{{ actividadSeleccionada.anio }}</strong>

                                                        <strong class="h6 mb-0">{{ actividadSeleccionada.anio
                                                            }}</strong>
                                                    </div>

                                                </div>
                                            </div>

                                        </div>
                                    </div>

                                </div>

                                <div class="col-md-4">

                                    <div class="col-md-4">
                                        <div class="d-flex align-items-center">

                                            <div class="d-flex align-items-center">
                                                <div class="bg-success bg-opacity-10 rounded-circle p-2 me-3" <div
                                                    class="bg-success bg-opacity-10 rounded-circle p-2 me-3"
                                                    style="width: 45px; height: 45px; display: flex; align-items: center; justify-content: center;">

                                                    style="width: 45px; height: 45px; display: flex; align-items:
                                                    center; justify-content: center;"> <i
                                                        class="fas fa-target text-success"></i>

                                                    <i class="fas fa-target text-success"></i>
                                                </div>

                                            </div>
                                            <div>

                                                <div> <small class="text-muted d-block">Meta Asignada</small>

                                                    <small class="text-muted d-block">Meta Asignada</small> <strong
                                                        class="h6 mb-0">{{ actividadSeleccionada.meta_ejecutar
                                                        }}</strong>

                                                    <strong class="h6 mb-0">{{ actividadSeleccionada.meta_ejecutar
                                                        }}</strong>
                                                </div>

                                            </div>
                                        </div>

                                    </div>
                                </div>

                            </div>

                            <div class="col-md-4">

                                <div class="col-md-4">
                                    <div class="d-flex align-items-center">

                                        <div class="d-flex align-items-center">
                                            <div class="bg-info bg-opacity-10 rounded-circle p-2 me-3" <div
                                                class="bg-info bg-opacity-10 rounded-circle p-2 me-3"
                                                style="width: 45px; height: 45px; display: flex; align-items: center; justify-content: center;">

                                                style="width: 45px; height: 45px; display: flex; align-items: center;
                                                justify-content: center;"> <i class="fas fa-check-circle text-info"></i>

                                                <i class="fas fa-check-circle text-info"></i>
                                            </div>

                                        </div>
                                        <div>

                                            <div> <small class="text-muted d-block">Ejecutado</small>

                                                <small class="text-muted d-block">Ejecutado</small> <strong
                                                    class="h6 mb-0">{{ totalEjecutado }}</strong>

                                                <strong class="h6 mb-0">{{ totalEjecutado }}</strong>
                                            </div>

                                        </div>
                                    </div>

                                </div>
                            </div>

                        </div>
                    </div>

                </div>

                <div class="alert alert-warning mb-0 d-flex align-items-start">

                    <div class="alert alert-warning mb-0 d-flex align-items-start"> <i
                            class="fas fa-info-circle me-2 mt-1"></i>

                        <i class="fas fa-info-circle me-2 mt-1"></i>
                        <div class="small">

                            <div class="small"> <strong>Importante:</strong> Al registrar este cumplimiento, se
                                ejecutará la meta de

                                <strong>Importante:</strong> Al registrar este cumplimiento, se ejecutará la meta de
                                <strong>{{ actividadSeleccionada.meta_ejecutar }}</strong> unidades.

                                <strong>{{ actividadSeleccionada.meta_ejecutar }}</strong> unidades.
                            </div>

                        </div>
                    </div>

                </div>
            </div>

        </div>
    </div> <!-- Historial de Ejecuciones (Colapsable) -->

</div>
<div class="mb-4" *ngIf="actividadId && ejecuciones.length > 0">

    <div class="d-flex justify-content-between align-items-center mb-2">

        <!-- Historial de Ejecuciones -->
        <h6 class="text-uppercase text-muted fw-bold mb-0" style="font-size: 0.85rem; letter-spacing: 0.5px;">

            <div class="card border-0 shadow-sm mb-4" *ngIf="actividadId && ejecuciones.length > 0"> <i
                    class="fas fa-history me-2"></i>Historial de Cumplimientos ({{ ejecuciones.length }})

                <div class="card-body">
        </h6>

        <div class="d-flex justify-content-between align-items-center mb-3"> <button type="button"
                class="btn btn-sm btn-outline-secondary" (click)="toggleHistorial()">

                <h6 class="mb-0"> <i class="fas" [ngClass]="mostrarHistorial ? 'fa-eye-slash' : 'fa-eye'"></i>

                    <i class="fas fa-history me-2 text-primary"></i> {{ mostrarHistorial ? 'Ocultar' : 'Ver Historial'
                    }}

                    Historial de Cumplimientos ({{ ejecuciones.length }})
            </button>

            </h6>
        </div>

        <button type="button" class="btn btn-sm btn-outline-secondary" (click)="toggleHistorial()">

            <i class="fas" [ngClass]="mostrarHistorial ? 'fa-chevron-up' : 'fa-chevron-down'"></i>
            <div *ngIf="mostrarHistorial" class="card border-0 shadow-sm">

                {{ mostrarHistorial ? 'Ocultar' : 'Mostrar' }} <div class="card-body p-0">

        </button>
        <div *ngIf="cargandoHistorial" class="text-center py-4">

        </div>
        <div class="spinner-border text-primary" role="status">

            <span class="visually-hidden">Cargando...</span>

            <div *ngIf="mostrarHistorial"> </div>

            <div *ngIf="cargandoHistorial" class="text-center py-3">
                <div class="text-muted mt-2 small">Cargando historial...</div>

                <div class="spinner-border spinner-border-sm text-primary" role="status"> </div>

                <span class="visually-hidden">Cargando...</span>

            </div>
            <div *ngIf="!cargandoHistorial && ejecuciones.length > 0" class="table-responsive">

                <span class="text-muted ms-2 small">Cargando historial...</span>
                <table class="table table-hover mb-0">

            </div>
            <thead class="table-light">

                <tr>

                    <div *ngIf="!cargandoHistorial && ejecuciones.length > 0">
                        <th class="border-0"><i class="fas fa-calendar me-1"></i>Fecha</th>

                        <div class="table-responsive">
                            <th class="border-0"><i class="fas fa-hashtag me-1"></i>Valor</th>

                            <table class="table table-sm table-hover mb-0">
                                <th class="border-0"><i class="fas fa-comment me-1"></i>Descripción</th>

                                <thead>
                                    <th class="border-0"><i class="fas fa-paperclip me-1"></i>Evidencias</th>

                                    <tr>
                                        <th class="border-0"><i class="fas fa-user me-1"></i>Registrado por</th>

                                        <th><i class="fas fa-calendar me-1"></i>Fecha</th>
                                    </tr>

                                    <th><i class="fas fa-hashtag me-1"></i>Valor</th>
                                </thead>

                                <th><i class="fas fa-comment me-1"></i>Descripción</th>
                                <tbody>

                                    <th><i class="fas fa-paperclip me-1"></i>Evidencias</th>
                                    <tr *ngFor="let ej of ejecuciones; let i = index" [class.table-light]="i % 2 === 0">

                                        <th><i class="fas fa-user me-1"></i>Registrado por</th>
                                        <td class="text-nowrap">

                                    </tr> <small class="text-muted">{{ ej.created_at | date:'dd/MM/yy HH:mm' }}</small>

            </thead>
            </td>

            <tbody>
                <td>

                    <tr *ngFor="let ej of ejecuciones"> <span class="badge bg-success">{{ ej.valor_ejecutado_incremento
                            }}</span>

                        <td class="text-nowrap"> </td>

                        <small>{{ ej.created_at | date:'dd/MM/yy HH:mm' }}</small>
                        <td>

                        </td> <small class="text-dark">{{ ej.descripcion || '—' }}</small>

                        <td> </td>

                        <span class="badge bg-success">{{ ej.valor_ejecutado_incremento }}</span>
                        <td>

                        </td>
                        <div class="d-flex gap-1">

                            <td> <span *ngIf="ej.url_evidencia" class="badge bg-info" title="URL adjunta">

                                    <small>{{ ej.descripcion || '—' }}</small> <i class="fas fa-link"></i>

                            </td> </span>

                            <td> <span *ngIf="ej.imagenes && ej.imagenes.length > 0" class="badge bg-primary" <div
                                    class="d-flex gap-1"> title="{{ ej.imagenes.length }} imágenes">

                                    <span *ngIf="ej.url_evidencia" class="badge bg-info" title="URL adjunta"> <i
                                            class="fas fa-images"></i> {{ ej.imagenes.length }}

                                        <i class="fas fa-link"></i> </span>

                                </span>
                        </div>

                        <span *ngIf="ej.imagenes && ej.imagenes.length > 0" class="badge bg-primary" </td>

                            title="{{ ej.imagenes.length }} imágenes"> <td>

                                <i class="fas fa-images"></i> {{ ej.imagenes.length }} <small class="text-muted">{{
                                    ej.registrado_por }}</small>

                        </span>
                </td>

        </div>
        </tr>

        </td>
        </tbody>

        <td>
            </table>

            <small>{{ ej.registrado_por }}</small>

        </td>
        <div class="p-3 bg-light border-top">

            </tr>
            <div class="d-flex justify-content-between align-items-center">

                </tbody> <span class="text-muted">Total Acumulado:</span>

                </table> <span class="h5 mb-0 text-success fw-bold">{{ totalEjecutado }}</span>

            </div>
        </div>

    </div>

    <div class="mt-3 p-2 bg-light rounded"> </div>

    <div class="d-flex justify-content-between align-items-center"> </div>

    <span class="text-muted small">Total Acumulado:</span>
</div>

<span class="h6 mb-0 text-success">{{ totalEjecutado }}</span> </div>

</div>

</div> <!-- Sección 2: Evidencias del Cumplimiento -->

</div>
<div class="mb-4">

</div>
<h6 class="text-uppercase text-muted fw-bold mb-3" style="font-size: 0.85rem; letter-spacing: 0.5px;">

    </div> <i class="fas fa-file-alt me-2"></i>2. Registre las Evidencias del Cumplimiento

    </div>
</h6>



<!-- Evidencias del Cumplimiento -->
<div class="alert alert-info border-0 d-flex align-items-start" <div class="mb-4"> style="background-color: rgba(102,
    126, 234, 0.1);">

    <label class="form-label fw-bold"> <i class="fas fa-lightbulb text-primary me-2 mt-1"></i>

        <i class="fas fa-file-alt me-2 text-primary"></i>Evidencias del Cumplimiento <div>

    </label> <strong>Importante:</strong> Proporcione al menos una evidencia (descripción, URL o imágenes) que

    <div class="alert alert-info border-0 d-flex align-items-start mb-3"> respalde el cumplimiento de esta actividad.

        <i class="fas fa-lightbulb me-2 mt-1"></i>
    </div>

    <small>
</div>

Proporcione al menos una evidencia (descripción, URL o imágenes) que respalde el cumplimiento. </div>

</small>

</div>
<div class="row g-3">

</div> <!-- Descripción -->

<div class="col-12">

    <div class="row g-3"> <label for="descripcion" class="form-label fw-semibold text-dark">

            <!-- Descripción --> <i class="fas fa-align-left text-primary me-2"></i>Descripción del Cumplimiento

            <div class="col-12">
        </label>

        <label for="descripcion" class="form-label"> <textarea class="form-control form-control-lg shadow-sm border-2"
                id="descripcion" rows="4" <i
                class="fas fa-align-left text-primary me-2"></i>Descripción del Cumplimiento                [(ngModel)]="descripcion"

                </label>                placeholder="Describa brevemente cómo se cumplió con la actividad, resultados obtenidos, acciones realizadas..."

                <textarea class="form-control" id="descripcion" rows="4" [(ngModel)]="descripcion"                style="resize: none; border-color: #e0e0e0;"></textarea>

            placeholder="Describa brevemente cómo se cumplió con la actividad, resultados obtenidos, acciones
            realizadas..."></textarea>
            <div class="form-text">

                <div class="form-text"> <i class="fas fa-info-circle me-1"></i>Proporcione detalles específicos del
                    trabajo realizado

                    <i class="fas fa-info-circle me-1"></i>Proporcione detalles específicos del trabajo realizado
                </div>

            </div>
    </div>

</div>

<!-- URL -->

<!-- URL -->
<div class="col-12">

    <div class="col-12"> <label for="url" class="form-label fw-semibold text-dark">

            <label for="url" class="form-label"> <i class="fas fa-link text-primary me-2"></i>Enlace a Documento o
                Evidencia Externa

                <i class="fas fa-link text-primary me-2"></i>Enlace a Documento o Evidencia Externa </label>

        </label>
        <div class="input-group input-group-lg shadow-sm">

            <input type="url" class="form-control" id="url" [(ngModel)]="url" <span
                class="input-group-text bg-light border-2" style="border-color: #e0e0e0;">

            placeholder="https://ejemplo.com/documento.pdf"> <i class="fas fa-globe text-muted"></i>

            <div class="form-text"> </span>

                <i class="fas fa-info-circle me-1"></i>Opcional: Link a Google Drive, OneDrive, sitio web, etc. <input
                    type="url" class="form-control border-2" id="url" [(ngModel)]="url" </div>
                placeholder="https://ejemplo.com/documento.pdf" style="border-color: #e0e0e0;">

            </div>
        </div>

        <div class="form-text">

            <!-- Imágenes --> <i class="fas fa-info-circle me-1"></i>Opcional: Link a Google Drive, OneDrive, sitio web,
            etc.

            <div class="col-12"> </div>

            <label for="imagenes" class="form-label">
        </div>

        <i class="fas fa-camera text-primary me-2"></i>Fotografías o Capturas de Pantalla

        </label> <!-- Imágenes -->

        <div class="border rounded p-3 text-center bg-light">
            <div class="col-12">

                <input type="file" #fileInput class="d-none" id="imagenes" accept="image/*" multiple <label
                    for="imagenes" class="form-label fw-semibold text-dark">

                (change)="onFileSelected($event)" [disabled]="imagenesSeleccionadas.length >= 4"> <i
                    class="fas fa-camera text-primary me-2"></i>Fotografías o Capturas de Pantalla

                </label>

                <button type="button" class="btn btn-outline-primary" (click)="fileInput.click()" <div
                    class="border-2 border-dashed rounded p-4 text-center"
                    [disabled]="imagenesSeleccionadas.length >= 4"> style="border-color: #e0e0e0; background-color:
                    #fafafa;">

                    <i class="fas fa-cloud-upload-alt me-2"></i> <input type="file" #fileInput class="d-none"
                        id="imagenes" accept="image/*" multiple {{ imagenesSeleccionadas.length> 0 ? 'Agregar Más
                    Imágenes' : 'Seleccionar Imágenes' }} (change)="onFileSelected($event)"
                    [disabled]="imagenesSeleccionadas.length >= 4">

                </button>

                <button type="button" class="btn btn-outline-primary btn-lg mb-2" (click)="fileInput.click()" <div
                    class="text-muted small mt-2"> [disabled]="imagenesSeleccionadas.length >= 4">

                    <i class="fas fa-info-circle me-1"></i> <i class="fas fa-cloud-upload-alt me-2"></i>

                    Máximo 4 imágenes | Tamaño máximo: 2MB cada una | Formatos: JPG, PNG, GIF, WEBP {{
                    imagenesSeleccionadas.length > 0 ? 'Agregar Más Imágenes' : 'Seleccionar Imágenes' }}

            </div> </button>



            <div *ngIf="imagenesSeleccionadas.length >= 4" class="text-warning small mt-2">
                <div class="text-muted small">

                    <i class="fas fa-exclamation-triangle me-1"></i> <i class="fas fa-info-circle me-1"></i>

                    Límite de imágenes alcanzado Máximo 4 imágenes | Tamaño máximo: 2MB cada una | Formatos: JPG, PNG,
                    GIF, WEBP

                </div>
            </div>

        </div>

    </div>
    <div *ngIf="imagenesSeleccionadas.length >= 4" class="text-warning small mt-2">

    </div> <i class="fas fa-exclamation-triangle me-1"></i>

    Límite de imágenes alcanzado

    <!-- Vista previa de imágenes -->
</div>

<div *ngIf="imagenesSeleccionadas.length > 0" class="mt-3"> </div>

<div class="d-flex justify-content-between align-items-center mb-2"> </div>

<label class="form-label mb-0 fw-bold"> </div>

    <i class="fas fa-images text-primary me-2"></i>

    Imágenes Adjuntas <!-- Vista previa de imágenes seleccionadas -->

</label>
<div *ngIf="imagenesSeleccionadas.length > 0" class="mt-4">

    <span class="badge bg-primary">{{ imagenesSeleccionadas.length }}/4</span>
    <div class="d-flex justify-content-between align-items-center mb-3">

    </div>
    <h6 class="text-dark fw-semibold mb-0">

        <i class="fas fa-images text-primary me-2"></i>

        <div class="row g-2"> Imágenes Adjuntas ({{imagenesSeleccionadas.length}}/4)

            <div *ngFor="let img of imagenesSeleccionadas; let i = index" class="col-6 col-md-3">
    </h6>

    <div class="card border-0 shadow-sm h-100"> <span class="badge bg-primary">{{ imagenesSeleccionadas.length }}
            archivo(s)</span>

        <div class="position-relative"> </div>

        <img [src]="img.preview" class="card-img-top" style="height: 120px; object-fit: cover;" [alt]="img.nombre">
        <div class="row g-3">

            <div *ngFor="let img of imagenesSeleccionadas; let i = index" class="col-6 col-md-3">

                <button type="button" class="btn btn-danger btn-sm rounded-circle position-absolute" <div
                    class="card border-0 shadow-sm h-100 hover-card" style="transition: transform 0.2s;">

                    (click)="eliminarImagenSeleccionada(i)" <div class="position-relative">

                        style="top: 4px; right: 4px; width: 28px; height: 28px; padding: 0;" <img [src]="img.preview"
                            class="card-img-top" style="height: 150px; object-fit: cover;" title="Eliminar imagen">
                        [alt]="img.nombre">

                        <i class="fas fa-times"></i>

                </button> <button type="button" class="btn btn-danger btn-sm rounded-circle position-absolute"
                    (click)="eliminarImagenSeleccionada(i)" <div
                    class="position-absolute bottom-0 start-0 end-0 bg-dark bg-opacity-75 text-white px-2 py-1"
                    style="top: 8px; right: 8px; width: 32px; height: 32px; padding: 0; box-shadow: 0 2px 4px rgba(0,0,0,0.2);"
                    style="font-size: 0.65rem;"> title="Eliminar imagen">

                    {{ formatearTamano(img.tamano) }} <i class="fas fa-times"></i>

            </div> </button>

        </div>

        <div class="position-absolute bottom-0 start-0 end-0 bg-dark bg-opacity-75 text-white p-1" <div
            class="card-body p-2"> style="font-size: 0.7rem;">

            <small class="d-block text-truncate text-muted" [title]="img.nombre"> <i
                    class="fas fa-file-image me-1"></i>{{ formatearTamano(img.tamano) }}

                {{ img.nombre }}
        </div>

        </small>
    </div>

</div>

</div>
<div class="card-body p-2">

</div> <small class="d-block text-truncate text-muted" [title]="img.nombre">

    </div> {{ img.nombre }}

    </div> </small>

</div>

<!-- Error Alert --> </div>

<div class="alert alert-danger border-0 shadow-sm d-flex align-items-start mt-3" role="alert" *ngIf="error"> </div>

<i class="fas fa-exclamation-circle me-2 mt-1"></i> </div>

<div> </div>

<strong>Error:</strong> {{ error }}

</div> <!-- Error Alert -->

</div>
<div class="alert alert-danger border-0 shadow-sm d-flex align-items-start mt-3" role="alert" *ngIf="error">

</div> <i class="fas fa-exclamation-circle me-3 mt-1" style="font-size: 1.5rem;"></i>

<div>

    <div class="modal-footer border-0 bg-light"> <strong class="d-block mb-1">Error de Validación</strong>

        <button type="button" class="btn btn-outline-secondary" (click)="cancelar()" [disabled]="guardando">
            <div>{{ error }}</div>

            <i class="fas fa-times me-2"></i>
    </div>

    Cancelar
</div>

</button></div>



<button type="button" class="btn btn-primary" [class.disabled]="guardando" (click)="guardar()" <div
    class="modal-footer border-0 bg-light" style="padding: 1.25rem 1.5rem;">

    [disabled]="guardando || !actividadSeleccionada"> <button type="button"
        class="btn btn-lg btn-outline-secondary px-4" (click)="cancelar()" [disabled]="guardando">

        <span *ngIf="guardando"> <i class="fas fa-times me-2"></i>

            <span class="spinner-border spinner-border-sm me-2" role="status"></span> Cancelar

            Guardando... </button>

    </span>

    <span *ngIf="!guardando"> <button type="button" class="btn btn-lg px-5 shadow" [class.btn-primary]="!guardando" <i
            class="fas fa-check-circle me-2"></i> [class.btn-secondary]="guardando" (click)="guardar()"
            [disabled]="guardando || !actividadSeleccionada"

            Registrar Cumplimiento style="min-width: 180px;">

    </span> <span *ngIf="guardando">

</button> <span class="spinner-border spinner-border-sm me-2" role="status"></span>

</div> Guardando...

</div> </span>

<span *ngIf="!guardando">
    <i class="fas fa-check-circle me-2"></i>
    Registrar Cumplimiento
</span>
</button>
</div>
</div>

<style>
    .hover-card:hover {
        transform: translateY(-4px);
    }

    .modal-body::-webkit-scrollbar {
        width: 8px;
    }

    .modal-body::-webkit-scrollbar-track {
        background: #f1f1f1;
        border-radius: 10px;
    }

    .modal-body::-webkit-scrollbar-thumb {
        background: #888;
        border-radius: 10px;
    }

    .modal-body::-webkit-scrollbar-thumb:hover {
        background: #555;
    }

    .border-dashed {
        border-style: dashed !important;
    }
</style>